<!DOCTYPE html>
<html>
<head>
  <title>월별 매출 Chart</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.4.0/Chart.min.js"></script>
  <style>
    table {
      border-collapse: collapse;
      width: 300px;
      margin: 0 auto;
    }

    th, td {
      padding: 8px;
      text-align: center;
      border-bottom: 1px solid #ddd;
    }
  </style>
</head>
<body>
<div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
  <div style="width: 450px; height: 450px;">
    <canvas id="myChart1"></canvas>
  </div>
  <div style="width: 450px; height: 450px;">
    <canvas id="myChart2"></canvas>
  </div>
</div>

<table id="salesTable">
  <thead>
  <tr>
    <th>월</th>
    <th>매출액</th>
  </tr>
  </thead>
  <tbody>
  </tbody>
</table>

<script type="text/javascript">
  var labels = ['1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12'];
  var salesData = [[${salesData}]];

  var context = document.getElementById('myChart1').getContext('2d');
  var myChart1 = new Chart(context, {
    type: 'line',
    data: {
      labels: labels,
      datasets: [
        {
          label: '월 매출액',
          fill: false,
          data: salesData,
          backgroundColor: 'rgba(255, 99, 132, 0.2)',
          borderColor: 'rgba(255, 99, 132, 1)',
          borderWidth: 1,
        },
      ],
    },
    options: {
      scales: {
        yAxes: [
          {
            ticks: {
              beginAtZero: true,
            },
          },
        ],
      },
    },
  });

  // 테이블 데이터 동적 생성
  var salesTable = document.getElementById('salesTable');
  var tbody = salesTable.getElementsByTagName('tbody')[0];

  for (var i = 0; i < labels.length; i++) {
    var label = labels[i];
    var data = salesData[i];

    var row = document.createElement('tr');
    var monthCell = document.createElement('td');
    var salesCell = document.createElement('td');

    monthCell.textContent = label + '월';
    salesCell.textContent = '$' + data;

    row.appendChild(monthCell);
    row.appendChild(salesCell);
    tbody.appendChild(row);
  }
</script>
<script type="text/javascript">
  var labels = ['1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12'];
  var salesData = [[${salesData}]];

  var context = document.getElementById('myChart2').getContext('2d');
  var myChart2 = new Chart(context, {
    type: 'bar',
    data: {
      labels: labels,
      datasets: [
        {
          label: '월 매출액',
          fill: false,
          data: salesData,
          backgroundColor: 'rgba(255, 99, 132, 0.2)',
          borderColor: 'rgba(255, 99, 132, 1)',
          borderWidth: 1,
        },
      ],
    },
    options: {
      scales: {
        yAxes: [
          {
            ticks: {
              beginAtZero: true,
            },
          },
        ],
      },
    },
  });
</script>
</body>
</html>
